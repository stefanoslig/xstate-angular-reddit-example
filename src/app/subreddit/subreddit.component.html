<section *ngIf="service.state$ | async as state">
  <span *ngIf="state.matches('failed')">Failed to load posts <button (click)="retry()">Retry?</button></span>
  <button *ngIf="state.matches('loaded')" (click)="refresh()">Refresh</button>
  <ul>
    <li *ngFor="let post of state.context.posts">
      {{ post.title }}
    </li>
  </ul>
</section>
